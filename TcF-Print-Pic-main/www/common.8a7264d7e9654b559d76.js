(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+PaX":function(t,e,i){"use strict";i.d(e,"a",function(){return b});var n=i("mrSG"),o=i("JZFu"),r=i("wd/R"),s=i("3Pt+"),a=i("fXoL"),c=i("pvCh"),l=i("TEn/"),d=i("tyNb");const u=["mapElement"],h=["autoCompleteInput"];let b=(()=>{class t{constructor(t,e,i,n,r,a,c,l){this.tcfpics=t,this.modalCtrl=e,this.Alert=i,this.navParams=n,this.formGroup=r,this.router=a,this.activatedRoute=c,this.fb=l,this.storage=o.a.storage().ref(),this.db=o.a.firestore(),this.userID=o.a.auth().currentUser.uid,this.DiliveryPrice=20,this.Total=0,this.isLoading=!1,this.data=[],this.cart=[],this.RegisterForm=r.group({placeName:["",[s.m.required]],DiliveyNote:["",[s.m.required]]}),this.createDirectionForm(),this.getUser(),this.isLoading=!0,this.activatedRoute.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.data=this.router.getCurrentNavigation().extras.state.user)}),this.picNumber=this.data.length,this.TotalPrice=10+10*this.picNumber;for(let o in this.data)this.price=+this.data[o].artprice+50,this.artid=this.data[o].artid}ngOnInit(){}getTotal(t){this.Total=+t+ +this.DiliveryPrice}createDirectionForm(){this.directionForm=this.fb.group({placeName:[""]})}ngAfterViewInit(){const t=new google.maps.Map(this.mapNativeElement.nativeElement,{center:{lat:-26.031921,lng:28.185995},zoom:13}),e=new google.maps.InfoWindow,i=document.getElementById("infowindow-content");e.setContent(i);const n=new google.maps.Marker({map:t,anchorPoint:new google.maps.Point(0,-29)}),o=new google.maps.places.Autocomplete(this.inputNativeElement.nativeElement);o.addListener("place_changed",()=>{e.close(),n.setVisible(!1);const r=o.getPlace();if(!r.geometry)return void window.alert("No details available for input: "+r.name);r.geometry.viewport?t.fitBounds(r.geometry.viewport):(t.setCenter(r.geometry.location),t.setZoom(17)),n.setPosition(r.geometry.location),n.setVisible(!0);let s="";r.address_components&&(s=[r.address_components[0]&&r.address_components[0].short_name||"",r.address_components[1]&&r.address_components[1].short_name||"",r.address_components[2]&&r.address_components[2].short_name||""].join(" ")),i.children["place-icon"].src=r.icon,i.children["place-name"].textContent=r.name,i.children["place-address"].textContent=s,e.open(t,n)})}getUser(){this.db.collection("users").doc(this.userID).onSnapshot(t=>{this.name=t.data().username,this.surname=t.data().surnamez})}Checkfunds(){console.log("paying price",this.Total),console.log("my blanance",this.tcfcoin),this.Total>this.tcfcoin?(this.ErrorMessage="You dont have enough funds. Please reload.",this.presentAlert(this.ErrorMessage),console.log("nihhuh error fun")):this.Total<=this.tcfcoin&&(this.CalculateCoin(),console.log("nihhuh erro shazi its working"))}CalculateCoin(){this.myCoin=+this.tcfcoin-+this.Total,console.log(this.myCoin),this.updateMyCoin()}updateMyCoin(){this.db.collection("tcfwallet").doc(this.userID).update({tcfcoin:this.myCoin}),console.log("tcf wallet updated"),this.checkout()}myUserWallet(){this.db.collection("tcfwallet").doc(this.userID).onSnapshot(t=>{this.tcfcoinid=t.data().tcfid,this.tcfcoin=t.data().tcfcoin})}presentAlert(t){return Object(n.b)(this,void 0,void 0,function*(){const e=yield this.Alert.create({header:"Eish",message:t,buttons:["OK"]});yield e.present()})}checkout(){return Object(n.b)(this,void 0,void 0,function*(){(yield this.Alert.create({header:"Thanks for your Order!",message:"Your Framed Pic order was received please check pic tracking for progress",buttons:["OK"]})).present().then(()=>{this.modalCtrl.dismiss(),this.router.navigate(["/streetar"])}),o.a.firestore().collection("artOderz/").add({date:r(new Date).format("llll"),Piccs:this.data,price:this.price,userid:o.a.auth().currentUser.uid,OrderStatus:"Order Recieved",picNumber:this.picNumber,address:this.placeName,orderID:Math.floor(899999*Math.random()+1e5),diliveryNote:this.DiliveyNote}).then(t=>{o.a.firestore().collection("artOderz/").doc(t.id).update({clientID:t.id}),this.deleteArt(),this.router.navigate(["streetar"])}).catch(t=>t.message)})}deleteArt(){o.a.firestore().collection("artOderz/").doc(this.artid).delete()}deletePic(t){console.log(t),this.data.splice(t),console.log(this.data),this.picNumber=this.data.length,this.TotalPrice=10+10*this.picNumber}close(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(a.Lb(c.a),a.Lb(l.ab),a.Lb(l.b),a.Lb(l.bb),a.Lb(s.b),a.Lb(d.g),a.Lb(d.a),a.Lb(s.b))},t.\u0275cmp=a.Fb({type:t,selectors:[["app-cartmodalart"]],viewQuery:function(t,e){if(1&t&&(a.vc(u,1),a.vc(h,1)),2&t){let t;a.mc(t=a.Zb())&&(e.mapNativeElement=t.first),a.mc(t=a.Zb())&&(e.inputNativeElement=t.first)}},decls:12,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","close"],["color","success"],["expand","full","fill","clear","color","light",3,"disabled","click"]],template:function(t,e){1&t&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar",0),a.Qb(2,"ion-buttons",1),a.Qb(3,"ion-buttons",2),a.Yb("click",function(){return e.close()}),a.Mb(4,"ion-icon",3),a.Pb(),a.Pb(),a.Qb(5,"ion-title"),a.rc(6),a.Pb(),a.Pb(),a.Pb(),a.Mb(7,"ion-content"),a.Qb(8,"ion-footer"),a.Qb(9,"ion-toolbar",4),a.Qb(10,"ion-button",5),a.Yb("click",function(){return e.Checkfunds()}),a.rc(11," Place Order "),a.Pb(),a.Pb(),a.Pb()),2&t&&(a.Bb(6),a.uc("Checkout ",e.name," ",e.surname,""),a.Bb(4),a.hc("disabled",!e.RegisterForm.valid))},directives:[l.s,l.V,l.g,l.t,l.U,l.n,l.q,l.f],styles:[".input[_ngcontent-%COMP%]{display:block;font-size:14px;width:100%;margin:10px auto;padding:10px 8px;border-radius:5px;box-shadow:inset 0 1px 2px rgba(0,0,0,.55),0 1px 1px hsla(0,0%,100%,.5);border:1px solid #666}.map[_ngcontent-%COMP%]{height:100%!important;width:95%!important;top:0;display:flex;justify-content:center;align-items:center;padding:100px;border-radius:5px}.p[_ngcontent-%COMP%]{color:#4c8fa3}"]}),t})()},"5e9s":function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i("mrSG"),o=i("IzEk"),r=i("F9Ym"),s=i("fXoL"),a=i("Gdn9"),c=i("TEn/"),l=i("ofXK");function d(t,e){if(1&t&&(s.Qb(0,"ion-item"),s.Qb(1,"p",7),s.rc(2),s.Pb(),s.Qb(3,"ion-label",0),s.rc(4),s.Pb(),s.Qb(5,"ion-avatar",8),s.Mb(6,"ion-img",9),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.Bb(2),s.tc(" ",t.count," "),s.Bb(2),s.tc(" ",t.comment," "),s.Bb(2),s.hc("src",t.pic)}}function u(t,e){if(1&t&&(s.Qb(0,"ion-item"),s.Qb(1,"p",7),s.rc(2),s.Pb(),s.Qb(3,"ion-label",0),s.rc(4),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.Bb(2),s.tc(" ",t.comment," "),s.Bb(2),s.tc(" R",t.price," ")}}let h=(()=>{class t{constructor(t,e,i){this.productService=t,this.modalCtrl=e,this.Alert=i,this.product=[],this.TotalPriceProd=[],this.TotalPrice=0,this.PayingPrice=0}ngOnInit(){this.getPicsCart()}getPicsCart(){const t=this.productService.cart.value;this.productService.getPicccz().pipe(Object(o.a)(1)).subscribe(e=>{if(!e.length)return!1;this.product=e.filter(e=>t[e.id]).map(e=>(this.price=20*t[e.id],this.TotalPriceProd.push(Object.assign(Object.assign({},e),{count:t[e.id]})),Object.assign(Object.assign({},e),{count:t[e.id],price:this.price}))),this.getTotal(this.TotalPriceProd)})}getTotal(t){for(let e in t)this.TotalPrice=+this.TotalPrice+ +t[e].count;this.PayingPrice=20*+this.TotalPrice}close(){this.modalCtrl.dismiss()}checkout(){return Object(n.b)(this,void 0,void 0,function*(){this.modalCtrl.create({component:r.a,componentProps:{TotalPrice:this.PayingPrice}}).then(t=>t.present()),this.modalCtrl.dismiss()})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(a.a),s.Lb(c.ab),s.Lb(c.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-cart-modal"]],decls:19,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","close"],[4,"ngFor","ngForOf"],["color","success"],["expand","full","fill","clear","color","light",3,"click"],["slot","start",2,"color","#4c8fa3"],["slot","end"],[3,"src"]],template:function(t,e){1&t&&(s.Qb(0,"ion-header"),s.Qb(1,"ion-toolbar",0),s.Qb(2,"ion-buttons",1),s.Qb(3,"ion-buttons",2),s.Yb("click",function(){return e.close()}),s.Mb(4,"ion-icon",3),s.Pb(),s.Pb(),s.Qb(5,"ion-title"),s.rc(6,"Cart"),s.Pb(),s.Pb(),s.Pb(),s.Qb(7,"ion-content"),s.Qb(8,"ion-list"),s.qc(9,d,7,3,"ion-item",4),s.Pb(),s.Pb(),s.Qb(10,"ion-footer"),s.Qb(11,"ion-toolbar",0),s.Qb(12,"ion-title"),s.rc(13),s.Pb(),s.qc(14,u,5,2,"ion-item",4),s.Pb(),s.Pb(),s.Qb(15,"ion-footer"),s.Qb(16,"ion-toolbar",5),s.Qb(17,"ion-button",6),s.Yb("click",function(){return e.checkout()}),s.rc(18," Checkout "),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.Bb(9),s.hc("ngForOf",e.product),s.Bb(4),s.tc("Sub Amount R",e.PayingPrice,""),s.Bb(1),s.hc("ngForOf",e.product))},directives:[c.s,c.V,c.g,c.t,c.U,c.n,c.B,l.k,c.q,c.f,c.y,c.A,c.e,c.u],styles:[""]}),t})()},"74mu":function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return n}),i.d(e,"d",function(){return a});const n=(t,e)=>null!==e.closest(t),o=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,r=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},s=/^[a-z][a-z0-9+\-.]*:/,a=async(t,e,i,n)=>{if(null!=t&&"#"!==t[0]&&!s.test(t)){const o=document.querySelector("ion-router");if(o)return null!=e&&e.preventDefault(),o.push(t,i,n)}return!1}},"77Nb":function(t,e,i){"use strict";i.d(e,"a",function(){return b});var n=i("mrSG"),o=i("JZFu"),r=i("wd/R"),s=i("3Pt+"),a=i("fXoL"),c=i("pvCh"),l=i("TEn/"),d=i("tyNb");const u=["mapElement"],h=["autoCompleteInput"];let b=(()=>{class t{constructor(t,e,i,n,r,a,c,l){this.tcfpics=t,this.modalCtrl=e,this.Alert=i,this.navParams=n,this.formGroup=r,this.router=a,this.activatedRoute=c,this.fb=l,this.storage=o.a.storage().ref(),this.db=o.a.firestore(),this.userID=o.a.auth().currentUser.uid,this.Total=0,this.DiliveryPrice=30,this.isLoading=!1,this.data=[],this.framedata=[],this.framesize12cm17cm=10,this.framesize15cm20cm=20,this.framesize20cm25cm=35,this.framesize20cm30cm=50,this.RegisterForm=r.group({placeName:["",[s.m.required]],DiliveyNote:["",[s.m.required]]}),this.isLoading=!0,this.activatedRoute.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.data=this.router.getCurrentNavigation().extras.state.user,console.log(this.data))}),this.picNumber=this.data.length,this.TotalPrice=10+10*this.picNumber;for(let o in this.data)this.price=+this.data[o].frameprice+ +this.data[o].price+30,this.framename=this.data[o].framename,this.frameimage=this.data[o].frameimage,this.framesize=this.data[o].framesize,this.frameprice=this.data[o].frameprice,this.framedata.push({framename:this.data[o].framename,frameimage:this.data[o].frameimage,framesize:this.data[o].framesize,frameprice:this.data[o].frameprice})}ngOnInit(){}getTotal(t){this.Total=+t+ +this.DiliveryPrice}createDirectionForm(){this.directionForm=this.fb.group({placeName:[""]})}ngAfterViewInit(){const t=new google.maps.Map(this.mapNativeElement.nativeElement,{center:{lat:-26.031921,lng:28.185995},zoom:13}),e=new google.maps.InfoWindow,i=document.getElementById("infowindow-content");e.setContent(i);const n=new google.maps.Marker({map:t,anchorPoint:new google.maps.Point(0,-29)}),o=new google.maps.places.Autocomplete(this.inputNativeElement.nativeElement);o.addListener("place_changed",()=>{e.close(),n.setVisible(!1);const r=o.getPlace();if(!r.geometry)return void window.alert("No details available for input: "+r.name);r.geometry.viewport?t.fitBounds(r.geometry.viewport):(t.setCenter(r.geometry.location),t.setZoom(17)),n.setPosition(r.geometry.location),n.setVisible(!0);let s="";r.address_components&&(s=[r.address_components[0]&&r.address_components[0].short_name||"",r.address_components[1]&&r.address_components[1].short_name||"",r.address_components[2]&&r.address_components[2].short_name||""].join(" ")),i.children["place-icon"].src=r.icon,i.children["place-name"].textContent=r.name,i.children["place-address"].textContent=s,e.open(t,n)})}getUser(){this.db.collection("users").doc(this.userID).onSnapshot(t=>{this.name=t.data().username,this.surname=t.data().surnamez})}checkout(){return Object(n.b)(this,void 0,void 0,function*(){(yield this.Alert.create({header:"Thanks for your Order!",message:"Your Framed Pic order was received please check pic tracking for progress",buttons:["OK"]})).present().then(()=>{this.modalCtrl.dismiss(),this.router.navigate(["/printframe"])}),o.a.firestore().collection("frameOderz/").add({date:r(new Date).format("llll"),Piccs:this.data,price:this.price,userid:o.a.auth().currentUser.uid,OrderStatus:"Order Recieved",picNumber:this.picNumber,address:this.placeName,orderID:Math.floor(899999*Math.random()+1e5),diliveryNote:this.DiliveyNote}).then(t=>{o.a.firestore().collection("frameOderz/").doc(t.id).update({clientID:t.id}),this.router.navigate(["printframe"])}).catch(t=>t.message)})}deletePic(t){console.log(t),this.data.splice(t),console.log(this.data),this.picNumber=this.data.length,this.TotalPrice=10+10*this.picNumber}close(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(a.Lb(c.a),a.Lb(l.ab),a.Lb(l.b),a.Lb(l.bb),a.Lb(s.b),a.Lb(d.g),a.Lb(d.a),a.Lb(s.b))},t.\u0275cmp=a.Fb({type:t,selectors:[["app-cartmodalframe"]],viewQuery:function(t,e){if(1&t&&(a.vc(u,1),a.vc(h,1)),2&t){let t;a.mc(t=a.Zb())&&(e.mapNativeElement=t.first),a.mc(t=a.Zb())&&(e.inputNativeElement=t.first)}},decls:12,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","close"],["color","success"],["expand","full","fill","clear","color","light",3,"disabled"]],template:function(t,e){1&t&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar",0),a.Qb(2,"ion-buttons",1),a.Qb(3,"ion-buttons",2),a.Yb("click",function(){return e.close()}),a.Mb(4,"ion-icon",3),a.Pb(),a.Pb(),a.Qb(5,"ion-title"),a.rc(6),a.Pb(),a.Pb(),a.Pb(),a.Mb(7,"ion-content"),a.Qb(8,"ion-footer"),a.Qb(9,"ion-toolbar",4),a.Qb(10,"ion-button",5),a.rc(11," Place Order "),a.Pb(),a.Pb(),a.Pb()),2&t&&(a.Bb(6),a.uc("Checkout ",e.name," ",e.surname,""),a.Bb(4),a.hc("disabled",!e.RegisterForm.valid))},directives:[l.s,l.V,l.g,l.t,l.U,l.n,l.q,l.f],styles:[".input[_ngcontent-%COMP%]{display:block;font-size:14px;width:100%;margin:10px auto;padding:10px 8px;border-radius:5px;box-shadow:inset 0 1px 2px rgba(0,0,0,.55),0 1px 1px hsla(0,0%,100%,.5);border:1px solid #666}.map[_ngcontent-%COMP%]{height:100%!important;width:95%!important;top:0;display:flex;justify-content:center;align-items:center;padding:100px;border-radius:5px}.p[_ngcontent-%COMP%]{color:#4c8fa3}"]}),t})()},JbSX:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("wEJo"),o=i("qULd"),r=i("iWo5");const s=(t,e)=>{let i,s;const a=(t,n,o)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(t,n);r&&e(r)?r!==i&&(l(),c(r,o)):l()},c=(t,e)=>{i=t,s||(s=i);const o=i;Object(n.f)(()=>o.classList.add("ion-activated")),e()},l=(t=!1)=>{if(!i)return;const e=i;Object(n.f)(()=>e.classList.remove("ion-activated")),t&&s!==i&&i.click(),i=void 0};return Object(r.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>a(t.currentX,t.currentY,o.a),onMove:t=>a(t.currentX,t.currentY,o.b),onEnd:()=>{l(!0),Object(o.e)(),s=void 0}})}},P4Du:function(t,e,i){"use strict";i.d(e,"a",function(){return f});var n=i("mrSG"),o=i("JZFu"),r=i("3Pt+"),s=i("wd/R"),a=i("fXoL"),c=i("TEn/"),l=i("ofXK");function d(t,e){1&t&&a.Mb(0,"div",17)}function u(t,e){if(1&t){const t=a.Rb();a.Qb(0,"ion-item",9),a.Qb(1,"ion-avatar",1),a.Mb(2,"img",19),a.Pb(),a.Qb(3,"ion-label",20),a.Yb("click",function(){a.nc(t);const i=e.$implicit;return a.ac(2).presentAlertAddUser(i.userid)}),a.rc(4),a.Pb(),a.Pb()}if(2&t){const t=e.$implicit;a.Bb(2),a.ic("src",t.image,a.oc),a.Bb(2),a.uc(" ",t.username," ",t.surnamez," ")}}function h(t,e){if(1&t&&(a.Qb(0,"ion-card"),a.qc(1,u,5,3,"ion-item",18),a.Pb()),2&t){const t=a.ac();a.Bb(1),a.hc("ngForOf",t.searchResults)}}function b(t,e){if(1&t){const t=a.Rb();a.Qb(0,"ion-item",9),a.Qb(1,"ion-avatar",1),a.Mb(2,"img",19),a.Pb(),a.Qb(3,"ion-label",20),a.Yb("click",function(){a.nc(t);const i=e.$implicit;return a.ac(2).presentAlertAddUser(i.userid)}),a.rc(4),a.Pb(),a.Pb()}if(2&t){const t=e.$implicit;a.Bb(2),a.ic("src",t.image,a.oc),a.Bb(2),a.uc(" ",t.username," ",t.surnamez," ")}}function m(t,e){if(1&t&&(a.Qb(0,"ion-card"),a.qc(1,b,5,3,"ion-item",18),a.Pb()),2&t){const t=a.ac();a.Bb(1),a.hc("ngForOf",t.userListProfile)}}function g(t,e){1&t&&a.Mb(0,"img",21)}function p(t,e){if(1&t&&a.Mb(0,"img",22),2&t){const t=a.ac();a.ic("src",t.image,a.oc)}}let f=(()=>{class t{constructor(t,e,i,n){this.menu=t,this.modalController=e,this.formGroup=i,this.Alert=n,this.db=o.a.firestore(),this.storage=o.a.storage().ref(),this.userid=o.a.auth().currentUser.uid,this.searchResults=[],this.userListProfile=[],this.wallet=[],this.sentAmount=0,this.profile={sentimage:"",sentname:null,sentsurname:null,senttcfid:null,senttcfcoin:null,recimage:"",recname:null,recsurname:null,rectcfid:null,rectcfcoin:null,recid:null},this.RegisterForm=i.group({sentAmount:["",[r.m.required]]}),this.getUser(),this.myUserData(),this.myUserWallet()}ngOnInit(){}getUser(){this.db.collection("users").onSnapshot(t=>{this.userListProfile=[],console.log(t),t.forEach(t=>{this.userListProfile.push(t.data()),console.log(this.userListProfile)})})}myUserData(){this.db.collection("users").doc(this.userid).onSnapshot(t=>{this.profile.sentimage=t.data().image,this.profile.sentname=t.data().username,this.profile.sentsurname=t.data().surnamez})}myUserWallet(){this.db.collection("tcfwallet").doc(this.userid).onSnapshot(t=>{this.profile.senttcfid=t.data().tcfid,this.profile.senttcfcoin=t.data().tcfcoin})}presentAlertAddUser(t){return Object(n.b)(this,void 0,void 0,function*(){const e=yield this.Alert.create({header:"Confirm!",message:"<strong>Are you sure you want to send coin to this user</strong> ??",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"yep",handler:()=>{this.adduser(t),this.addWallet(t)}}]});yield e.present()})}adduser(t){this.db.collection("users").doc(t).onSnapshot(t=>{this.profile.recimage=t.data().image,this.profile.recname=t.data().username,this.profile.recsurname=t.data().surnamez,this.image=t.data().image,this.name=t.data().username,this.surname=t.data().surnamez})}addWallet(t){this.db.collection("tcfwallet").doc(t).onSnapshot(e=>{this.profile.rectcfid=e.data().tcfid,this.profile.rectcfcoin=e.data().tcfcoin,this.profile.recid=t,this.tcfid=e.data().tcfid})}sendCoin(){0===this.sentAmount?(this.ErrorMessage="Please enter Amount to send.",this.presentAlert(this.ErrorMessage)):""===this.profile.recname?(this.ErrorMessage="Select Friend to send Coin",this.presentAlert(this.ErrorMessage)):this.profile.senttcfcoin<this.sentAmount?(this.ErrorMessage="The Amount entered is invalid or you out of coin as well !!!",this.presentAlert(this.ErrorMessage)):this.CalculateCoin()}CalculateCoin(){this.TotalSentCoin=+this.profile.rectcfcoin+ +this.sentAmount,this.TotalReducedCoin=+this.profile.senttcfcoin-+this.sentAmount,console.log(this.TotalSentCoin),console.log(this.TotalReducedCoin),this.updateMyCoin(),this.updateFriendCoin(),this.addCoinRecordMe(),this.addCoinRecordFriend()}updateMyCoin(){this.db.collection("tcfwallet").doc(this.userid).update({tcfcoin:this.TotalReducedCoin})}updateFriendCoin(){this.db.collection("tcfwallet").doc(this.profile.recid).update({tcfcoin:this.TotalSentCoin})}addCoinRecordMe(){this.db.collection("tcfwallet").doc(this.userid).collection("sentcoin").add({sentImage:this.profile.recimage,sentName:this.profile.recname,sentSurname:this.profile.recsurname,sentID:this.profile.recid,sentcoin:this.sentAmount,date:s(Date.now()).format("h:mm:ss a, MMMM Do YYYY")}).then(t=>{this.resultMe=t.id,this.db.collection("tcfwallet").doc(this.userid).collection("sentcoin").doc(t.id).update({id:this.resultMe}),this.dismiss()}).catch(t=>{})}addCoinRecordFriend(){this.db.collection("tcfwallet").doc(this.profile.recid).collection("reccoin").add({recImage:this.profile.sentimage,recName:this.profile.sentname,recSurname:this.profile.sentsurname,recID:this.userid,reccoin:this.sentAmount,date:s(Date.now()).format("h:mm:ss a, MMMM Do YYYY")}).then(t=>{this.resultFriend=t.id,this.db.collection("tcfwallet").doc(this.userid).collection("reccoin").doc(t.id).update({id:this.resultFriend}),this.dismiss()}).catch(t=>{})}getItems(t){const e=t.target.value,i=Number(e);if(console.log(e),console.log(i),e&&""!=e.trim()&&0!=i){console.log(i),console.log(!(0==i));let t=this.userListProfile.filter(t=>String(t.username).indexOf(e)>=0);console.log(t),this.searchResults=t,console.log("Results = ",this.searchResults)}else""==e&&(this.searchResults=[]);console.log(this.userListProfile),console.log(this.searchResults)}presentAlert(t){return Object(n.b)(this,void 0,void 0,function*(){const e=yield this.Alert.create({header:"Eish",message:t,buttons:["OK"]});yield e.present()})}dismiss(){this.modalController.dismiss()}ionViewDidEnter(){this.menu.enable(!1)}ionViewDidLeave(){this.menu.enable(!0)}}return t.\u0275fac=function(e){return new(e||t)(a.Lb(c.Z),a.Lb(c.ab),a.Lb(r.b),a.Lb(c.b))},t.\u0275cmp=a.Fb({type:t,selectors:[["app-sendcoin"]],decls:33,vars:11,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","close"],["padding",""],["class","count",4,"ngIf"],["name","search","placeholder","Search by User's by Name",3,"ionInput"],[4,"ngIf"],["color","light"],["lines","none"],["src","../../../../../assets/images/User_Avatar.png","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],[2,"margin-left","10px","margin-right","10px",3,"formGroup"],[1,"input"],["position","floating","color","primary"],["formControlName","sentAmount","maxlength","4","color","primary",3,"ngModel","ngModelChange"],["expand","block","fill","outline","color","primary","clear","",3,"disabled","click"],[1,"count"],["lines","none",4,"ngFor","ngForOf"],[3,"src"],["color","primary",3,"click"],["src","../../../../../assets/images/User_Avatar.png","alt",""],["alt","",3,"src"]],template:function(t,e){1&t&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar",0),a.Qb(2,"ion-buttons",1),a.Qb(3,"ion-buttons",2),a.Yb("click",function(){return e.dismiss()}),a.Mb(4,"ion-icon",3),a.Pb(),a.Pb(),a.Qb(5,"ion-title"),a.rc(6,"Send Coin"),a.Pb(),a.Pb(),a.Pb(),a.Qb(7,"ion-content",4),a.Qb(8,"ion-list"),a.Qb(9,"ion-toolbar"),a.qc(10,d,1,0,"div",5),a.Qb(11,"ion-searchbar",6),a.Yb("ionInput",function(t){return e.getItems(t)}),a.Pb(),a.Pb(),a.qc(12,h,2,1,"ion-card",7),a.qc(13,m,2,1,"ion-card",7),a.Pb(),a.Pb(),a.Qb(14,"ion-footer"),a.Qb(15,"ion-toolbar",8),a.Qb(16,"ion-item",9),a.Qb(17,"ion-avatar",1),a.qc(18,g,1,0,"img",10),a.qc(19,p,1,1,"img",11),a.Pb(),a.Qb(20,"ion-label",0),a.rc(21),a.Pb(),a.Qb(22,"ion-label",0),a.rc(23),a.Pb(),a.Pb(),a.Qb(24,"ion-item",9),a.Qb(25,"form",12),a.Qb(26,"ion-item",13),a.Qb(27,"ion-label",14),a.rc(28,"Enter Amount to Send"),a.Pb(),a.Qb(29,"ion-input",15),a.Yb("ngModelChange",function(t){return e.sentAmount=t}),a.Pb(),a.Pb(),a.Pb(),a.Qb(30,"ion-button",16),a.Yb("click",function(){return e.sendCoin()}),a.rc(31,"Send Coin"),a.Pb(),a.Mb(32,"br"),a.Pb(),a.Pb(),a.Pb()),2&t&&(a.Bb(10),a.hc("ngIf",e.searchResults.length>0),a.Bb(2),a.hc("ngIf",e.searchResults.length>0),a.Bb(1),a.hc("ngIf",0==e.searchResults.length),a.Bb(5),a.hc("ngIf",!e.image),a.Bb(1),a.hc("ngIf",e.image),a.Bb(2),a.uc(" ",e.name," ",e.surname," "),a.Bb(2),a.tc(" Wallet ID : ",e.tcfid," "),a.Bb(2),a.hc("formGroup",e.RegisterForm),a.Bb(4),a.hc("ngModel",e.sentAmount),a.Bb(1),a.hc("disabled",!e.RegisterForm.valid))},directives:[c.s,c.V,c.g,c.t,c.U,c.n,c.B,l.l,c.I,c.fb,c.q,c.y,c.e,c.A,r.n,r.j,r.d,c.x,r.i,r.c,r.f,c.f,c.h,l.k],styles:[".bgc[_ngcontent-%COMP%]{background-size:cover}ion-content[_ngcontent-%COMP%]{height:100%;width:100%}.login-box[_ngcontent-%COMP%]{width:90%;margin:auto;height:auto;border-radius:5px;padding:10px}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]{text-align:center;margin:auto;padding-top:6px}.login-box[_ngcontent-%COMP%]   .alignlright[_ngcontent-%COMP%]{text-align:right;margin:auto;padding-top:6px}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]{align-content:center}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:100%!important;max-height:100%!important}.login-box[_ngcontent-%COMP%]   #user-profile[_ngcontent-%COMP%]{height:100%;width:80%;display:flex;justify-content:center;align-items:center}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%]{position:relative}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%], .login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:10px}.login-box[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border-radius:10px;display:flex;justify-content:center;align-items:center;text-align:center;margin:auto}.progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:.25rem;display:flex;font-size:1.2rem;height:2rem;margin-top:1rem;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{align-items:center;background-color:#007bff;color:#fff;display:flex;justify-content:center}.h3[_ngcontent-%COMP%], .p[_ngcontent-%COMP%]{color:#3880ff}"]}),t})()},W3EW:function(t,e,i){"use strict";i.r(e),i.d(e,"CartModalPageModule",function(){return u});var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("5e9s"),c=i("fXoL");const l=[{path:"",component:a.a}];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[s.k.forChild(l)],s.k]}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({imports:[[n.c,o.e,r.W,d]]}),t})()},acej:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n=i("1vRN");const o=async(t,e,i,o,r)=>{if(t)return t.attachViewToDom(e,i,r,o);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof i?e.ownerDocument&&e.ownerDocument.createElement(i):i;return o&&o.forEach(t=>s.classList.add(t)),r&&Object.assign(s,r),e.appendChild(s),await new Promise(t=>Object(n.c)(s,t)),s},r=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},h3R7:function(t,e,i){"use strict";i.d(e,"a",function(){return n});const n={bubbles:{dur:1e3,circles:9,fn:(t,e,i)=>{const n=t*e/i-t+"ms",o=2*Math.PI*e/i;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(t,e,i)=>{const n=e/i,o=t*n-t+"ms",r=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})}}},k2QX:function(t,e,i){"use strict";i.r(e),i.d(e,"ArtCartModalPageModule",function(){return p});var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("mrSG"),c=i("IzEk"),l=i("n4zC"),d=i("fXoL"),u=i("rYUR");function h(t,e){if(1&t&&(d.Qb(0,"ion-item"),d.Qb(1,"p",7),d.rc(2),d.Pb(),d.Qb(3,"ion-label",0),d.rc(4),d.Pb(),d.Qb(5,"ion-avatar",8),d.Mb(6,"ion-img",9),d.Pb(),d.Pb()),2&t){const t=e.$implicit;d.Bb(2),d.tc(" ",t.count," "),d.Bb(2),d.tc(" ",t.comment," "),d.Bb(2),d.hc("src",t.pic)}}function b(t,e){if(1&t&&(d.Qb(0,"ion-item"),d.Qb(1,"p",7),d.rc(2),d.Pb(),d.Qb(3,"ion-label",0),d.rc(4),d.Pb(),d.Pb()),2&t){const t=e.$implicit;d.Bb(2),d.tc(" ",t.comment," "),d.Bb(2),d.tc(" R",t.price," ")}}const m=[{path:"",component:(()=>{class t{constructor(t,e,i){this.artService=t,this.modalCtrl=e,this.Alert=i,this.product=[],this.TotalPriceProd=[],this.TotalPrice=0,this.PayingPrice=0}ngOnInit(){const t=this.artService.cart.value;console.log("art-cart",t),this.artService.getArt().pipe(Object(c.a)(1)).subscribe(e=>{this.product=e.filter(e=>t[e.id]).map(e=>Object.assign(Object.assign({},e),{count:t[e.id],price:this.price}))})}getTotal(t){for(let e in t)this.TotalPrice=+this.TotalPrice+ +t[e].count,console.log(this.TotalPriceProd[e].count);this.PayingPrice=10*+this.TotalPrice}close(){this.modalCtrl.dismiss()}checkout(){return Object(a.b)(this,void 0,void 0,function*(){this.modalCtrl.create({component:l.ArtCheckoutPageModule,componentProps:{TotalPrice:this.PayingPrice}}).then(t=>t.present()),this.modalCtrl.dismiss()})}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(u.a),d.Lb(r.ab),d.Lb(r.b))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-art-cart-modal"]],decls:19,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","close"],[4,"ngFor","ngForOf"],["color","success"],["expand","full","fill","clear","color","light",3,"click"],["slot","start",2,"color","#4c8fa3"],["slot","end"],[3,"src"]],template:function(t,e){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar",0),d.Qb(2,"ion-buttons",1),d.Qb(3,"ion-buttons",2),d.Yb("click",function(){return e.close()}),d.Mb(4,"ion-icon",3),d.Pb(),d.Pb(),d.Qb(5,"ion-title"),d.rc(6,"Art Cart Modal"),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-content"),d.Qb(8,"ion-list"),d.qc(9,h,7,3,"ion-item",4),d.Pb(),d.Pb(),d.Qb(10,"ion-footer"),d.Qb(11,"ion-toolbar",0),d.Qb(12,"ion-title"),d.rc(13),d.Pb(),d.qc(14,b,5,2,"ion-item",4),d.Pb(),d.Pb(),d.Qb(15,"ion-footer"),d.Qb(16,"ion-toolbar",5),d.Qb(17,"ion-button",6),d.Yb("click",function(){return e.checkout()}),d.rc(18," Checkout "),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.Bb(9),d.hc("ngForOf",e.product),d.Bb(4),d.tc("Sub Amount R",e.PayingPrice,""),d.Bb(1),d.hc("ngForOf",e.product))},directives:[r.s,r.V,r.g,r.t,r.U,r.n,r.B,n.k,r.q,r.f,r.y,r.A,r.e,r.u],styles:[""]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({imports:[[s.k.forChild(m)],s.k]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({imports:[[n.c,o.e,r.W,g]]}),t})()},n4zC:function(t,e,i){"use strict";i.r(e),i.d(e,"ArtCheckoutPageModule",function(){return d});var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("fXoL");const c=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Fb({type:t,selectors:[["app-art-checkout"]],decls:5,vars:0,template:function(t,e){1&t&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-title"),a.rc(3,"art-checkout"),a.Pb(),a.Pb(),a.Pb(),a.Mb(4,"ion-content"))},directives:[r.s,r.V,r.U,r.n],styles:[""]}),t})()}];let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({imports:[[s.k.forChild(c)],s.k]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({imports:[[n.c,o.e,r.W,l]]}),t})()},pvCh:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("JZFu"),o=i("2Vo4"),r=i("fXoL"),s=i("tyNb");let a=(()=>{class t{constructor(t){this.router=t,this.db=n.a.firestore(),this.myProducts=[],this.myPiccs=[],this.price=10,this.amount=1,this.cart=[],this.CartPics=[],this.cartItemCount=new o.a(0)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s.g))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},qULd:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return c}),i.d(e,"e",function(){return a});const n={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:i})},notification(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},o=()=>{n.selection()},r=()=>{n.selectionStart()},s=()=>{n.selectionChanged()},a=()=>{n.selectionEnd()},c=t=>{n.impact(t)}},rYUR:function(t,e,i){"use strict";i.d(e,"a",function(){return b});var n=i("mrSG"),o=i("JZFu"),r=i("2Vo4"),s=i("gcOT"),a=i("fXoL"),c=i("I/3d");const{Storage:l}=s.a,d="MY_CART",u=o.a.firestore.FieldValue.increment(1),h=o.a.firestore.FieldValue.increment(-1);let b=(()=>{class t{constructor(t){this.afs=t,this.cart=new r.a({}),this.cartKey=null,this.db=o.a.firestore(),this.userid=o.a.auth().currentUser.uid,this.test=[],console.log("dude da fuck"),this.db.collection("art").onSnapshot(t=>{console.log(t),t.forEach(t=>{this.test.push(t.data()),console.log("element data",t.data()),console.log("ithini 1",this.test)}),console.log("ithini 2",this.test)}),this.picCollection=this.afs.collection("art"),console.log(this.picCollection),this.loadCart(),this.getUser()}getArt(){return console.log("dude da fuck get art"),this.picCollection.valueChanges({idField:"id"})}loadCart(){return Object(n.b)(this,void 0,void 0,function*(){console.log("dude im trying to work");const t=yield l.get({key:d});if(t.value)this.cartKey=t.value,console.log(t.value),this.afs.collection("artcart").doc(this.cartKey).valueChanges().subscribe(t=>{console.log("cart change",t),delete t.lastUpdate,this.cart.next(t||{})});else{const t=yield this.afs.collection("artcart").add({lastUpdate:o.a.firestore.FieldValue.serverTimestamp()});console.log("new cart",t),this.cartKey=t.id,yield l.set({key:d,value:this.cartKey})}})}addToCart(t){this.afs.collection("artcart").doc(this.cartKey).update({[t]:u,lastUpdate:o.a.firestore.FieldValue.serverTimestamp()})}removeFromCart(t){this.afs.collection("artcart").doc(this.cartKey).update({[t]:h,lastUpdate:o.a.firestore.FieldValue.serverTimestamp()})}getUser(){this.db.collection("users").doc(this.userid).onSnapshot(t=>{this.image=t.data().image,this.name=t.data().username,this.surname=t.data().surnamez,this.contact=t.data().contact,this.email=t.data().emails})}checkoutCart(){return Object(n.b)(this,void 0,void 0,function*(){yield this.afs.collection("orders").add({cart:this.cart.value,name:this.name,surname:this.surname,contact:this.contact,email:this.email,image:this.image}),this.afs.collection("artcart").doc(this.cartKey).set({lastUpdate:o.a.firestore.FieldValue.serverTimestamp()})})}}return t.\u0275fac=function(e){return new(e||t)(a.Ub(c.a))},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},uxLX:function(t,e,i){"use strict";i.d(e,"a",function(){return m});var n=i("mrSG"),o=i("JZFu"),r=i("fXoL"),s=i("lzYf"),a=i("tyNb"),c=i("TEn/"),l=i("ofXK"),d=i("3Pt+");function u(t,e){1&t&&r.Mb(0,"img",17)}function h(t,e){if(1&t&&r.Mb(0,"img",18),2&t){const t=r.ac();r.ic("src",t.profile.image,r.oc)}}const b=function(){return["/home"]};let m=(()=>{class t{constructor(t,e,i,n,r,s){this.tcfpics=t,this.router=e,this.loadingController=i,this.toastController=n,this.alertController=r,this.actionSheetController=s,this.storage=o.a.storage().ref(),this.userprofile=[],this.newuserprofile=[],this.db=o.a.firestore(),this.profile={image:"",name:null,address:null,surname:null,number:null,userid:o.a.auth().currentUser.uid,email:o.a.auth().currentUser.email},this.uploadingprogress=0,this.db.collection("users").doc(o.a.auth().currentUser.uid).onSnapshot(t=>{this.profile.email=t.data().email,o.a.auth(),this.profile.name=t.data().username,this.profile.surname=t.data().surnamez,this.profile.image=t.data().image,this.profile.number=t.data().contact,this.profile.address=t.data().address})}ngOnInit(){}users(){return Object(n.b)(this,void 0,void 0,function*(){""==this.profile.name||null==this.profile.name?(yield this.toastController.create({message:"Enter the name.",duration:2e3})).present():""==this.profile.surname||null==this.profile.surname?(yield this.toastController.create({message:"Enter the surname",duration:2e3})).present():""==this.profile.number||null==this.profile.number||this.profile.number.length<10?(yield this.toastController.create({message:"Enter a cellphone number with 10 digits",duration:2e3})).present():(this.db.collection("users").doc(o.a.auth().currentUser.uid).update({name:this.profile.name,surname:this.profile.surname,number:this.profile.number,image:this.profile.image,userid:this.profile.userid}).then(function(){console.log("Document successfully written!")}).catch(function(t){console.error("Error writing document: ",t)}),this.router.navigateByUrl("/home"))})}changeListener2(t){const e=t.target.files[0];console.log(e);const i=this.storage.child(e.name).put(e);i.on("state_changed",t=>{const e=t.bytesTransferred/t.totalBytes*100;console.log("upload is: ",e,"% done."),console.log(e),this.uploadingprogress=e<=90?t.bytesTransferred/t.totalBytes*100:90},t=>{},()=>{i.snapshot.ref.getDownloadURL().then(t=>{console.log("File avail at: ",t),this.profile.image=t,setTimeout(()=>{this.uploadingprogress=100},1e3)})})}getPhoneInput(t){this.profile.number=t.target.value,"0"!==this.profile.number[0]?this.presentAlertPhoneValidation():(console.log("im working"),this.profile.number=this.profile.number),console.log(this.profile.number)}presentAlertPhoneValidation(){return Object(n.b)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:"Confirm!",message:"<strong>Phone Numbers must start with a number: 0.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:t=>{this.erasedToContact(),console.log("Confirm Cancel: blah")}}]});yield t.present()})}presentAlertPhoneMaxLenght(){return Object(n.b)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:"Confirm!",message:"<strong>Phone Numbers must have 10 numbers.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:t=>{this.erasedToContact()}}]});yield t.present()})}presentAlertPhoneMinLenght(){return Object(n.b)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:"Confirm!",message:"<strong>Phone Numbers has less than 10 numbers.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:t=>{this.erasedToContact(),console.log("Confirm Cancel: blah")}}]});yield t.present()})}erasedToContact(){this.profile.number=""}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(s.a),r.Lb(a.g),r.Lb(c.Y),r.Lb(c.gb),r.Lb(c.b),r.Lb(c.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-profile"]],decls:42,vars:9,consts:[["name","arrow-back","color","primary","vertical","end","slot","start",2,"margin-left","10px",3,"routerLink"],["color","primary",1,"aligned"],[1,"login-box"],["id","user-profile",1,"align"],["id","user-pic",1,"align"],["src","../../assets/images/User_Avatar.png","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],["align","center"],["for","disapear","align","center"],["color","primary","slot","end","name","camera"],["id","disapear","type","file","multiple","false","accept","image/*","align","center",1,"image-upload",3,"change"],[3,"value"],["color","primary","position","floating"],["color","primary",3,"ngModel","ngModelChange"],["maxlength","10","color","primary",3,"ngModel","ngModelChange","keyup"],["maxRows","3","cols","5","placeholder","Enter Your Address information here...","color","primary",3,"ngModel","ngModelChange"],["expand","block","fill","outline","color","primary","clear","",3,"click"],["src","../../assets/images/User_Avatar.png","alt",""],["alt","",3,"src"]],template:function(t,e){1&t&&(r.Qb(0,"ion-header"),r.Qb(1,"ion-toolbar"),r.Mb(2,"ion-icon",0),r.Qb(3,"ion-title",1),r.Qb(4,"b"),r.rc(5,"Profile"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(6,"ion-content"),r.Qb(7,"div",2),r.Qb(8,"div",3),r.Qb(9,"div",4),r.qc(10,u,1,0,"img",5),r.qc(11,h,1,1,"img",6),r.Pb(),r.Pb(),r.Mb(12,"br"),r.Qb(13,"div",7),r.Qb(14,"label",8),r.Qb(15,"ion-icon",9),r.Qb(16,"input",10),r.Yb("change",function(t){return e.changeListener2(t)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(17,"br"),r.Qb(18,"div",7),r.Mb(19,"ion-progress-bar",11),r.Pb(),r.Mb(20,"br"),r.Mb(21,"br"),r.Mb(22,"br"),r.Qb(23,"ion-item"),r.Qb(24,"ion-label",12),r.rc(25,"Name"),r.Pb(),r.Qb(26,"ion-input",13),r.Yb("ngModelChange",function(t){return e.profile.name=t}),r.Pb(),r.Pb(),r.Qb(27,"ion-item"),r.Qb(28,"ion-label",12),r.rc(29,"Surname"),r.Pb(),r.Qb(30,"ion-input",13),r.Yb("ngModelChange",function(t){return e.profile.surname=t}),r.Pb(),r.Pb(),r.Qb(31,"ion-item"),r.Qb(32,"ion-label",12),r.rc(33,"Your 10s"),r.Pb(),r.Qb(34,"ion-input",14),r.Yb("ngModelChange",function(t){return e.profile.number=t})("keyup",function(t){return e.getPhoneInput(t)}),r.Pb(),r.Pb(),r.Qb(35,"ion-item"),r.Qb(36,"ion-label",12),r.rc(37,"Address"),r.Pb(),r.Qb(38,"ion-textarea",15),r.Yb("ngModelChange",function(t){return e.profile.address=t}),r.Pb(),r.Pb(),r.Mb(39,"br"),r.Qb(40,"ion-button",16),r.Yb("click",function(){return e.users()}),r.rc(41,"Save"),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(2),r.hc("routerLink",r.jc(8,b)),r.Bb(8),r.hc("ngIf",!e.profile.image),r.Bb(1),r.hc("ngIf",e.profile.image),r.Bb(8),r.ic("value",e.uploadingprogress/100),r.Bb(7),r.hc("ngModel",e.profile.name),r.Bb(4),r.hc("ngModel",e.profile.surname),r.Bb(4),r.hc("ngModel",e.profile.number),r.Bb(4),r.hc("ngModel",e.profile.address))},directives:[c.s,c.V,c.t,c.db,a.h,c.U,c.n,l.l,c.F,c.y,c.A,c.x,c.fb,d.i,d.k,d.f,c.S,c.f],styles:[".bgc[_ngcontent-%COMP%]{background-size:cover}.aligned[_ngcontent-%COMP%]{align-content:center}ion-content[_ngcontent-%COMP%]{height:100%;width:100%}.login-box[_ngcontent-%COMP%]{width:90%;margin:auto;height:auto;border-radius:5px;padding:10px}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]{text-align:right;margin:auto;padding-top:6px;align-content:center}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:100%!important;max-height:100%!important}.login-box[_ngcontent-%COMP%]   #user-profile[_ngcontent-%COMP%]{height:60%;width:80%;display:flex;justify-content:center;align-items:center}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%]{position:relative}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%], .login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:100px}.progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:.25rem;display:flex;font-size:1.2rem;height:2rem;margin-top:1rem;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{align-items:center;background-color:#007bff;color:#fff;display:flex;justify-content:center}"]}),t})()}}]);