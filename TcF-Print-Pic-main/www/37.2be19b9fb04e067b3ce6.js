(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{T9iC:function(e,n,t){"use strict";t.r(n),t.d(n,"SignupPageModule",function(){return u});var o=t("ofXK"),r=t("3Pt+"),i=t("TEn/"),s=t("tyNb"),a=t("mrSG"),c=t("JZFu"),l=t("fXoL"),g=t("lzYf");function b(e,n){1&e&&l.Mb(0,"img",25)}function d(e,n){if(1&e&&l.Mb(0,"img",26),2&e){const e=l.ac();l.ic("src",e.image,l.oc)}}const p=function(){return["/login"]},m=[{path:"",component:(()=>{class e{constructor(e,n,t,o,i,s,a){this.tcfpics=e,this.Alert=n,this.loadingController=t,this.toastController=o,this.formGroup=i,this.router=s,this.menuCtrl=a,this.storage=c.a.storage().ref(),this.db=c.a.firestore(),this.uploadingprogress=0,this.passwordType="password",this.passwordIcon="eye-off",this.RegisterForm=i.group({name:["",[r.m.required,r.m.pattern("[a-zA-Z]+$")]],surname:["",[r.m.required,r.m.pattern("[a-zA-Z]+$")]],email:["",[r.m.required,r.m.pattern("[a-zA-Z0-9.]+@[a-zA-Z-.]+.[a-zA-Z]+$")]],contact:["",[r.m.required]],password:["",[r.m.required,r.m.minLength(6),r.m.maxLength(12)]],confirmpassword:["",[r.m.required,r.m.minLength(6),r.m.maxLength(12)]]})}ngOnInit(){}signup(){this.confirmpassword!==this.password?(this.ErrorMessage="The passwords you entered do not match.",this.presentAlert(this.ErrorMessage)):""==this.image?(this.ErrorMessage="Please Upload Your Profile Pic.",this.presentAlert(this.ErrorMessage)):(this.tcfpics.signup(this.email,this.password,this.name,this.surname,this.image,this.contact).then(e=>{"signIn"===e.operationType?(this.router.navigate(["/tabs/home"]),this.presentToast()):this.presentAlert(e)}),this.presentLoading())}hideShowPassword(){this.passwordType="text"===this.passwordType?"password":"text",this.passwordIcon="eye-off"===this.passwordIcon?"eye":"eye-off"}changeListener(e){const n=e.target.files[0];console.log(n);const t=this.storage.child(n.name).put(n);t.on("state_changed",e=>{const n=e.bytesTransferred/e.totalBytes*100;console.log("upload is: ",n,"% done."),console.log(n),this.uploadingprogress=n<=90?e.bytesTransferred/e.totalBytes*100:90},e=>{},()=>{t.snapshot.ref.getDownloadURL().then(e=>{console.log("File avail at: ",e),this.image=e,console.log(this.image),setTimeout(()=>{this.uploadingprogress=100},1e3)})})}getPhoneInput(e){this.contact=e.target.value,"0"!==this.contact[0]?this.presentAlertPhoneValidation():this.contact=this.contact}presentAlertPhoneValidation(){return Object(a.b)(this,void 0,void 0,function*(){const e=yield this.Alert.create({header:"Eish!",message:"<strong>Phone Numbers must start with a number: 0.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:e=>{this.erasedToContact(),console.log("Confirm Cancel: blah")}}]});yield e.present()})}erasedToContact(){this.contact=""}presentAlert(e){return Object(a.b)(this,void 0,void 0,function*(){const n=yield this.Alert.create({header:"Alert",message:e,buttons:["OK"]});yield n.present()})}presentToast(){return Object(a.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"New Account Created.",duration:9e3,color:"primary",position:"bottom"})).present()})}presentLoading(){return Object(a.b)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({message:"Loading"});yield e.present(),e.dismiss()})}ionViewWillEnter(){this.menuCtrl.enable(!1)}}return e.\u0275fac=function(n){return new(n||e)(l.Lb(g.a),l.Lb(i.b),l.Lb(i.Y),l.Lb(i.gb),l.Lb(r.b),l.Lb(s.g),l.Lb(i.Z))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-signup"]],decls:52,vars:17,consts:[["color","primary","name","arrow-back","vertical","end","slot","start",2,"margin-left","10px",3,"routerLink"],["color","primary",1,"aligned"],["padding",""],[1,"login-box"],["id","user-profile",1,"align"],["id","user-pic",1,"align"],["src","../../assets/images/User_Avatar.png","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],["align","center"],["for","disapear"],["color","primary","slot","end","name","camera"],["id","disapear","type","file","multiple","false","accept","image/*","align","center",1,"image-upload",3,"change"],[3,"value"],[2,"margin-left","10px","margin-right","10px",3,"formGroup"],["position","floating","color","primary"],["color","primary","formControlName","name",3,"ngModel","ngModelChange"],["color","primary","position","floating"],["color","primary","formControlName","surname",3,"ngModel","ngModelChange"],["color","primary","formControlName","contact","maxlength","10",3,"ngModel","ngModelChange","keyup"],["lines","inset","color","none"],["color","primary","formControlName","email",3,"ngModel","ngModelChange"],["color","primary","formControlName","password","name","password","clearOnEdit","false",3,"type","ngModel","ngModelChange"],["color","primary","slot","end",3,"name","click"],["color","primary","formControlName","confirmpassword","name","password","clearOnEdit","false",3,"type","ngModel","ngModelChange"],["expand","block","fill","outline","color","primary","clear","",3,"disabled","click"],["src","../../assets/images/User_Avatar.png","alt",""],["alt","",3,"src"]],template:function(e,n){1&e&&(l.Qb(0,"ion-header"),l.Qb(1,"ion-toolbar"),l.Mb(2,"ion-icon",0),l.Qb(3,"ion-title",1),l.Qb(4,"b"),l.rc(5,"Register"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(6,"ion-content",2),l.Qb(7,"div",3),l.Qb(8,"div",4),l.Qb(9,"div",5),l.qc(10,b,1,0,"img",6),l.qc(11,d,1,1,"img",7),l.Pb(),l.Pb(),l.Mb(12,"br"),l.Qb(13,"div"),l.Qb(14,"div",8),l.Qb(15,"label",9),l.Qb(16,"ion-icon",10),l.Qb(17,"input",11),l.Yb("change",function(e){return n.changeListener(e)}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Mb(18,"br"),l.Mb(19,"ion-progress-bar",12),l.Pb(),l.Mb(20,"br"),l.Qb(21,"form",13),l.Qb(22,"ion-item"),l.Qb(23,"ion-label",14),l.rc(24,"Name"),l.Pb(),l.Qb(25,"ion-input",15),l.Yb("ngModelChange",function(e){return n.name=e}),l.Pb(),l.Pb(),l.Qb(26,"ion-item"),l.Qb(27,"ion-label",16),l.rc(28,"Surname"),l.Pb(),l.Qb(29,"ion-input",17),l.Yb("ngModelChange",function(e){return n.surname=e}),l.Pb(),l.Pb(),l.Qb(30,"ion-item"),l.Qb(31,"ion-label",16),l.rc(32,"Contact"),l.Pb(),l.Qb(33,"ion-input",18),l.Yb("ngModelChange",function(e){return n.contact=e})("keyup",function(e){return n.getPhoneInput(e)}),l.Pb(),l.Pb(),l.Qb(34,"ion-item",19),l.Qb(35,"ion-label",16),l.rc(36,"Email Address"),l.Pb(),l.Qb(37,"ion-input",20),l.Yb("ngModelChange",function(e){return n.email=e}),l.Pb(),l.Pb(),l.Qb(38,"ion-item",19),l.Qb(39,"ion-label",16),l.rc(40,"Password"),l.Pb(),l.Qb(41,"ion-input",21),l.Yb("ngModelChange",function(e){return n.password=e}),l.Pb(),l.Qb(42,"ion-icon",22),l.Yb("click",function(){return n.hideShowPassword()}),l.Pb(),l.Pb(),l.Qb(43,"ion-item",19),l.Qb(44,"ion-label",16),l.rc(45,"Confirm Password"),l.Pb(),l.Qb(46,"ion-input",23),l.Yb("ngModelChange",function(e){return n.confirmpassword=e}),l.Pb(),l.Qb(47,"ion-icon",22),l.Yb("click",function(){return n.hideShowPassword()}),l.Pb(),l.Pb(),l.Pb(),l.Mb(48,"br"),l.Pb(),l.Qb(49,"ion-button",24),l.Yb("click",function(){return n.signup()}),l.rc(50,"Save"),l.Pb(),l.Mb(51,"br"),l.Pb()),2&e&&(l.Bb(2),l.hc("routerLink",l.jc(16,p)),l.Bb(8),l.hc("ngIf",!n.image),l.Bb(1),l.hc("ngIf",n.image),l.Bb(8),l.ic("value",n.uploadingprogress/100),l.Bb(2),l.hc("formGroup",n.RegisterForm),l.Bb(4),l.hc("ngModel",n.name),l.Bb(4),l.hc("ngModel",n.surname),l.Bb(4),l.hc("ngModel",n.contact),l.Bb(4),l.hc("ngModel",n.email),l.Bb(4),l.hc("type",n.passwordType)("ngModel",n.password),l.Bb(1),l.hc("name",n.passwordIcon),l.Bb(4),l.hc("type",n.passwordType)("ngModel",n.confirmpassword),l.Bb(1),l.hc("name",n.passwordIcon),l.Bb(2),l.hc("disabled",!n.RegisterForm.valid))},directives:[i.s,i.V,i.t,i.db,s.h,i.U,i.n,o.l,i.F,r.n,r.j,r.d,i.y,i.A,i.x,i.fb,r.i,r.c,r.f,i.f],styles:[".bgc[_ngcontent-%COMP%]{background-size:cover}.aligned[_ngcontent-%COMP%]{align-content:center}ion-content[_ngcontent-%COMP%]{height:100%;width:100%}.login-box[_ngcontent-%COMP%]{width:90%;margin:auto;height:auto;border-radius:5px;padding:10px}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]{text-align:right;margin:auto;padding-top:6px;align-content:center}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:100%!important;max-height:100%!important}.login-box[_ngcontent-%COMP%]   #user-profile[_ngcontent-%COMP%]{height:60%;width:80%;display:flex;justify-content:center;align-items:center}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%]{position:relative}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%], .login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:100px}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({imports:[[s.k.forChild(m)],s.k]}),e})(),u=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({imports:[[o.c,r.e,i.W,r.l,h]]}),e})()}}]);