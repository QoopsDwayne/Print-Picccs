(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{YKdu:function(t,i,n){"use strict";n.r(i),n.d(i,"PrintframePageModule",function(){return C});var e=n("ofXK"),a=n("3Pt+"),o=n("TEn/"),r=n("tyNb"),c=n("mrSG"),s=n("fXoL"),d=n("JZFu"),h=n("77Nb"),m=n("pvCh");const b=["cart"],l=function(){return["/uploadpic"]};function p(t,i){1&t&&(s.Qb(0,"ion-card"),s.Qb(1,"ion-card-header",7),s.Qb(2,"ion-card-title",1),s.rc(3,"No Picccs Yet"),s.Pb(),s.Pb(),s.Qb(4,"ion-card-content",7),s.Qb(5,"div"),s.Mb(6,"img",8),s.Pb(),s.Pb(),s.Qb(7,"div",7),s.Qb(8,"ion-button",9),s.rc(9,"Upload Picccz?"),s.Pb(),s.Pb(),s.Mb(10,"br"),s.Pb()),2&t&&(s.Bb(8),s.hc("routerLink",s.jc(1,l)))}function g(t,i){if(1&t){const t=s.Rb();s.Qb(0,"ion-card"),s.Qb(1,"ion-card-header"),s.Qb(2,"ion-card-subtitle",10),s.rc(3),s.Pb(),s.Qb(4,"ion-card-title",10),s.rc(5),s.Pb(),s.Pb(),s.Qb(6,"ion-card-content",10),s.Mb(7,"img",11),s.Mb(8,"br"),s.Pb(),s.Qb(9,"div",7),s.Qb(10,"ion-button",12),s.Yb("click",function(){s.nc(t);const n=i.$implicit;return s.ac().addToPrintPicArray(n.pidid)}),s.Mb(11,"ion-icon",13),s.Pb(),s.Pb(),s.Mb(12,"br"),s.Pb()}if(2&t){const t=i.$implicit;s.Cb("data-index",i.index),s.Bb(3),s.sc(t.date),s.Bb(2),s.sc(t.comment),s.Bb(2),s.ic("src",t.pic,s.oc)}}const u=function(){return["./../tabs/profilez"]},f=[{path:"",component:(()=>{class t{constructor(t,i,n,e,a,o,r,c,s){this.tcfpics=t,this.Alert=i,this.loadingController=n,this.toastController=e,this.formGroup=a,this.router=o,this.menuCtrl=r,this.modalCTRL=c,this.activatedRoute=s,this.storage=d.a.storage().ref(),this.db=d.a.firestore(),this.cart=[],this.product=[],this.userPics=[],this.frameArray=[],this.price=10,this.amount=1,this.page=0,this.printPics=[],this.frameid=this.activatedRoute.snapshot.paramMap.get("id"),this.presentLoadingWithOptions(),this.db.collection("pics").doc(d.a.auth().currentUser.uid).collection("clientpics").orderBy("date","asc").onSnapshot(t=>{t.forEach(i=>{this.userPics=[],t.forEach(t=>{this.userPics.push(t.data()),this.id=t.data().id,this.comment=t.data().comment,this.pic=t.data().pic,this.pidid=t.data().pidid,this.date=t.data().date})})}),this.getFrames(this.frameid)}ngOnInit(){this.product=this.userPics,this.cartItemCount=this.piccsNo}getFrames(t){this.db.collection("frames").doc(t).onSnapshot(t=>{this.frameArray=[],this.frameArray.push(t.data()),this.frameImage=t.data().frameimage,this.frameName=t.data().framename,this.frameSize=t.data().framesize,this.framePrice=t.data().frameprice,this.frameid=t.data().frameid})}addToPrintPicArray(t){this.db.collection("pics").doc(d.a.auth().currentUser.uid).collection("clientpics").where("pidid","==",t).onSnapshot(t=>{t.forEach(i=>{t.forEach(t=>{this.id2=t.data().id,this.comment2=t.data().comment,this.pic2=t.data().pic,this.pidid2=t.data().pidid,this.date2=t.data().date,this.printPics.push({id:this.id2,comment:this.comment2,pic:this.pic2,pidid:this.pidid2,date:this.date2,price:this.price,amount:this.amount,frameid:this.frameid,frameimage:this.frameImage,framename:this.frameName,framesize:this.frameSize,frameprice:this.framePrice}),this.piccsNo=this.printPics.length,this.openCart()})})})}loadMore(t){setTimeout(()=>{t.target.complete(),1e3===this.frameArray.length&&(t.target.disabled=!0)},500)}presentLoadingWithOptions(){return Object(c.b)(this,void 0,void 0,function*(){const t=yield this.loadingController.create({spinner:"crescent",duration:5e3,message:"Loading Your Picccccs. Please wait...",translucent:!0,cssClass:"custom-class custom-loading",backdropDismiss:!0});yield t.present(),yield t.onDidDismiss()})}addToCart(t){console.log(t),this.animateCSS("tada")}openCart(){return Object(c.b)(this,void 0,void 0,function*(){let t=yield this.modalCTRL.create({component:h.a,cssClass:"cartmodalframe"});t.onWillDismiss().then(()=>{this.fab.nativeElement.classList.remove("animated","bounceOutLeft"),this.animateCSS("bounceInLeft")}),t.present(),this.router.navigate(["cartmodalframe"],{state:{user:this.printPics}})})}animateCSS(t,i=!1){const n=this.fab.nativeElement;n.classList.add("animated",t),n.addEventListener("animationend",function e(){i||n.classList.remove("animated",t),n.removeEventListener("animationend",e)})}}return t.\u0275fac=function(i){return new(i||t)(s.Lb(m.a),s.Lb(o.b),s.Lb(o.Y),s.Lb(o.gb),s.Lb(a.b),s.Lb(r.g),s.Lb(o.Z),s.Lb(o.ab),s.Lb(r.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-printframe"]],viewQuery:function(t,i){if(1&t&&s.vc(b,1,s.m),2&t){let t;s.mc(t=s.Zb())&&(i.fab=t.first)}},decls:11,vars:4,consts:[["name","arrow-back","color","primary","vertical","end","slot","start",2,"margin-left","10px",3,"routerLink"],["color","primary"],[1,"login-box"],[4,"ngIf"],[4,"ngFor","ngForOf"],["therehold","100px",3,"ionInfinite"],["color","primary","loadingSpinner","bubbles","loadingText","Loading more Frames..."],[1,"align"],["src","./../../assets/images/no imgae.png"],[3,"routerLink"],["color","primary",1,"align"],[3,"src"],["expand","outline",3,"click"],["name","add","color","primary"]],template:function(t,i){1&t&&(s.Qb(0,"ion-header"),s.Qb(1,"ion-toolbar"),s.Mb(2,"ion-icon",0),s.Qb(3,"ion-title",1),s.rc(4,"Choose Picture To Frame"),s.Pb(),s.Pb(),s.Pb(),s.Qb(5,"ion-content"),s.Qb(6,"div",2),s.qc(7,p,11,2,"ion-card",3),s.qc(8,g,13,4,"ion-card",4),s.Qb(9,"ion-infinite-scroll",5),s.Yb("ionInfinite",function(t){return i.loadMore(t)}),s.Mb(10,"ion-infinite-scroll-content",6),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.Bb(2),s.hc("routerLink",s.jc(3,u)),s.Bb(5),s.hc("ngIf",0===i.userPics.length),s.Bb(1),s.hc("ngForOf",i.userPics))},directives:[o.s,o.V,o.t,o.db,r.h,o.U,o.n,e.l,e.k,o.v,o.w,o.h,o.j,o.l,o.i,o.f,o.k],styles:[".bgc[_ngcontent-%COMP%]{background-size:cover}ion-content[_ngcontent-%COMP%]{height:100%;width:100%}.login-box[_ngcontent-%COMP%]{width:90%;margin:auto;height:auto;border-radius:5px;padding:10px}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]{text-align:center;margin:auto;padding-top:6px}.login-box[_ngcontent-%COMP%]   .alignlright[_ngcontent-%COMP%]{text-align:right;margin:auto;padding-top:6px}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]{align-content:center}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:100%!important;max-height:100%!important}.login-box[_ngcontent-%COMP%]   #user-profile[_ngcontent-%COMP%]{height:60%;width:80%;display:flex;justify-content:center;align-items:center}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%]{position:relative}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%], .login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:100px}"]}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({imports:[[r.k.forChild(f)],r.k]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({imports:[[e.c,a.e,o.W,P]]}),t})()}}]);