(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"62Y3":function(e,t,n){"use strict";n.r(t),n.d(t,"AccountPageModule",function(){return d});var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),s=n("mrSG"),l=n("JZFu"),c=n("fXoL");function b(e,t){1&e&&c.Mb(0,"img",18)}function u(e,t){if(1&e&&c.Mb(0,"img",19),2&e){const e=c.ac();c.ic("src",e.profile.image,c.oc)}}const g=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.router=e,this.loadingController=t,this.menuCtrt=n,this.toastController=i,this.alertController=o,this.storage=l.a.storage().ref(),this.db=l.a.firestore(),this.userprofile=[],this.id=l.a.auth().currentUser.uid,this.profile={image:"",username:null,surnamez:null,position:null,contact:null,gender:null,location:null,startsign:null,year:null,tcfID:null,tcfCoin:null,userid:l.a.auth().currentUser.uid,email:l.a.auth().currentUser.email},this.uploadingprogress=0,this.getuser(),this.getWallete()}ngOnInit(){}getuser(){this.db.collection("users").doc(this.profile.userid).onSnapshot(e=>{this.profile.username=e.data().username,this.profile.surnamez=e.data().surnamez,this.profile.contact=e.data().contact,this.profile.email=e.data().emails,this.profile.image=e.data().image,this.profile.position=e.data().position})}getWallete(){this.db.collection("tcfwallet").doc(this.profile.userid).onSnapshot(e=>{this.tcfID=e.data().tcfid,this.tcfCoin=e.data().tcfcoin})}users(){return Object(s.b)(this,void 0,void 0,function*(){""==this.profile.username||null==this.profile.username?(yield this.toastController.create({message:"Enter the Name.",duration:2e3})).present():""==this.profile.surnamez||null==this.profile.surnamez?(yield this.toastController.create({message:"Enter the Surname",duration:2e3})).present():""==this.profile.contact||null==this.profile.contact||this.profile.contact.length<10?(yield this.toastController.create({message:"Enter a cellphone number with 10 digits",duration:2e3})).present():this.db.collection("users").doc(l.a.auth().currentUser.uid).update({name:this.profile.username,surname:this.profile.surnamez,contact:this.profile.contact,image:this.profile.image}).then(function(){}).catch(function(e){})})}changeListener2(e){const t=e.target.files[0],n=this.storage.child(t.name).put(t);n.on("state_changed",e=>{this.uploadingprogress=e.bytesTransferred/e.totalBytes*100<=90?e.bytesTransferred/e.totalBytes*100:90},e=>{},()=>{n.snapshot.ref.getDownloadURL().then(e=>{this.profile.image=e,setTimeout(()=>{this.uploadingprogress=100},1e3)})})}getPhoneInput(e){this.profile.contact=e.target.value,"0"!==this.profile.contact[0]?this.presentAlertPhoneValidation():this.profile.contact=this.profile.contact}presentAlertPhoneValidation(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Eish!",message:"<strong>Phone Numbers must start with a number: 0.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:e=>{this.erasedToContact()}}]});yield e.present()})}presentAlertPhoneMaxLenght(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Eish!",message:"<strong>Phone Numbers must have 10 numbers.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:e=>{this.erasedToContact()}}]});yield e.present()})}presentAlertPhoneMinLenght(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Eish!",message:"<strong>Phone Numbers has less than 10 numbers.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:e=>{this.erasedToContact()}}]});yield e.present()})}erasedToContact(){this.profile.contact=""}goToSettings(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.loadingController.create();yield e.present().then(()=>{this.menuCtrt.close().then(()=>{this.router.navigateByUrl("/settings").then(()=>Object(s.b)(this,void 0,void 0,function*(){yield e.dismiss()}))})})})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(a.g),c.Lb(r.Y),c.Lb(r.Z),c.Lb(r.gb),c.Lb(r.b))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-account"]],decls:58,vars:9,consts:[["name","arrow-back","color","primary","vertical","end","slot","start",2,"margin-left","10px",3,"click"],["color","primary"],["padding",""],[1,"login-box"],["id","user-profile",1,"align"],["id","user-pic",1,"align"],["src","../../assets/images/User_Avatar.png","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],["align","center"],["for","disapear","align","center"],["color","primary","slot","end","name","camera"],["id","disapear","type","file","multiple","false","accept","image/*","align","center",1,"image-upload",3,"change"],[3,"value"],[1,"p"],["color","primary","position","floating"],["color","primary",3,"ngModel","ngModelChange"],["maxlength","10","color","primary",3,"ngModel","ngModelChange","keyup"],["expand","block","fill","outline","color","primary","clear","",3,"click"],["src","../../assets/images/User_Avatar.png","alt",""],["alt","",3,"src"]],template:function(e,t){1&e&&(c.Qb(0,"ion-header"),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-icon",0),c.Yb("click",function(){return t.goToSettings()}),c.Pb(),c.Qb(3,"ion-title",1),c.rc(4,"My Account"),c.Pb(),c.Pb(),c.Pb(),c.Qb(5,"ion-content",2),c.Qb(6,"div",3),c.Qb(7,"div",4),c.Qb(8,"div",5),c.qc(9,b,1,0,"img",6),c.qc(10,u,1,1,"img",7),c.Pb(),c.Pb(),c.Mb(11,"br"),c.Qb(12,"div",8),c.Qb(13,"label",9),c.Qb(14,"ion-icon",10),c.Qb(15,"input",11),c.Yb("change",function(e){return t.changeListener2(e)}),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Mb(16,"br"),c.Qb(17,"div",8),c.Mb(18,"ion-progress-bar",12),c.Pb(),c.Mb(19,"br"),c.Mb(20,"br"),c.Qb(21,"ion-item"),c.Qb(22,"h3",13),c.rc(23,"My Profile"),c.Pb(),c.Pb(),c.Qb(24,"ion-item"),c.Qb(25,"ion-label",14),c.rc(26,"Name"),c.Pb(),c.Qb(27,"ion-input",15),c.Yb("ngModelChange",function(e){return t.profile.username=e}),c.Pb(),c.Pb(),c.Qb(28,"ion-item"),c.Qb(29,"ion-label",14),c.rc(30,"Surname"),c.Pb(),c.Qb(31,"ion-input",15),c.Yb("ngModelChange",function(e){return t.profile.surnamez=e}),c.Pb(),c.Pb(),c.Qb(32,"ion-item"),c.Qb(33,"ion-label",14),c.rc(34,"Cell Number"),c.Pb(),c.Qb(35,"ion-input",16),c.Yb("ngModelChange",function(e){return t.profile.contact=e})("keyup",function(e){return t.getPhoneInput(e)}),c.Pb(),c.Pb(),c.Qb(36,"ion-item"),c.Qb(37,"ion-label",14),c.rc(38,"email"),c.Pb(),c.Qb(39,"p",13),c.rc(40),c.Pb(),c.Pb(),c.Mb(41,"br"),c.Qb(42,"ion-item"),c.Qb(43,"h3",13),c.rc(44,"My Balance"),c.Pb(),c.Pb(),c.Qb(45,"ion-item"),c.Qb(46,"ion-label",14),c.rc(47,"Account ID"),c.Pb(),c.Qb(48,"p",13),c.rc(49),c.Pb(),c.Pb(),c.Qb(50,"ion-item"),c.Qb(51,"ion-label",14),c.rc(52,"Account Balance"),c.Pb(),c.Qb(53,"p",13),c.rc(54),c.Pb(),c.Pb(),c.Mb(55,"br"),c.Qb(56,"ion-button",17),c.Yb("click",function(){return t.users()}),c.rc(57,"Update"),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.Bb(9),c.hc("ngIf",!t.profile.image),c.Bb(1),c.hc("ngIf",t.profile.image),c.Bb(8),c.ic("value",t.uploadingprogress/100),c.Bb(9),c.hc("ngModel",t.profile.username),c.Bb(4),c.hc("ngModel",t.profile.surnamez),c.Bb(4),c.hc("ngModel",t.profile.contact),c.Bb(5),c.sc(t.profile.email),c.Bb(9),c.tc("Serial: ",t.tcfID,""),c.Bb(5),c.tc("R",t.tcfCoin," Coin's"))},directives:[r.s,r.V,r.t,r.U,r.n,i.l,r.F,r.y,r.A,r.x,r.fb,o.i,o.k,o.f,r.f],styles:[".bgc[_ngcontent-%COMP%]{background-size:cover}.aligned[_ngcontent-%COMP%]{align-content:center}ion-content[_ngcontent-%COMP%]{height:100%;width:100%}.login-box[_ngcontent-%COMP%]{width:90%;margin:auto;height:auto;border-radius:5px;padding:10px}.login-box[_ngcontent-%COMP%]   .p[_ngcontent-%COMP%]{color:#4c8fa3}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]{text-align:right;margin:auto;padding-top:6px;align-content:center}.login-box[_ngcontent-%COMP%]   .align[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:100%!important;max-height:100%!important}.login-box[_ngcontent-%COMP%]   #user-profile[_ngcontent-%COMP%]{height:60%;width:80%;display:flex;justify-content:center;align-items:center}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%]{position:relative}.login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%], .login-box[_ngcontent-%COMP%]   #user-pic[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:100px}.progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:.25rem;display:flex;font-size:1.2rem;height:2rem;margin-top:1rem;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{align-items:center;background-color:#007bff;color:#fff;display:flex;justify-content:center}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({imports:[[a.k.forChild(g)],a.k]}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({imports:[[i.c,o.e,r.W,h]]}),e})()}}]);