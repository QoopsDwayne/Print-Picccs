(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{SPdY:function(e,t,n){"use strict";n.r(t),n.d(t,"Profile2PageModule",function(){return P});var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),s=n("mrSG"),a=n("JZFu"),l=n("fXoL"),d=n("lzYf");function p(e,t){1&e&&l.Mb(0,"img",19)}function g(e,t){if(1&e&&l.Mb(0,"img",44),2&e){const e=l.ac(2);l.ic("src",e.profile.image,l.oc)}}function h(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",21),l.Qb(1,"div",22),l.Yb("click",function(){return l.nc(e),l.ac().closePopUp()}),l.Mb(2,"ion-icon",23),l.Pb(),l.Qb(3,"div",24),l.Qb(4,"div",25),l.Mb(5,"div",26),l.Mb(6,"div",27),l.Mb(7,"div",28),l.Pb(),l.Qb(8,"div",29),l.qc(9,p,1,0,"img",30),l.qc(10,g,1,1,"img",7),l.Qb(11,"label",31),l.Qb(12,"ion-icon",32),l.Qb(13,"input",33),l.Yb("change",function(t){return l.nc(e),l.ac().changeListener(t)}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(14,"div",34),l.Qb(15,"div",35),l.Qb(16,"div",36),l.Mb(17,"ion-icon",37),l.Pb(),l.Qb(18,"input",38),l.Yb("ngModelChange",function(t){return l.nc(e),l.ac().profile.username=t}),l.Pb(),l.Pb(),l.Qb(19,"div",35),l.Qb(20,"div",36),l.Mb(21,"ion-icon",37),l.Pb(),l.Qb(22,"input",39),l.Yb("ngModelChange",function(t){return l.nc(e),l.ac().profile.surnamez=t}),l.Pb(),l.Pb(),l.Qb(23,"div",35),l.Qb(24,"div",36),l.Mb(25,"ion-icon",40),l.Pb(),l.Qb(26,"input",41),l.Yb("ngModelChange",function(t){return l.nc(e),l.ac().profile.contact=t})("keyup",function(t){return l.nc(e),l.ac().getPhoneInput(t)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(27,"div",42),l.Qb(28,"ion-button",43),l.Yb("click",function(){return l.nc(e),l.ac().users()}),l.rc(29,"SAVE"),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=l.ac();l.Bb(9),l.hc("ngIf",!e.profile.image),l.Bb(1),l.hc("ngIf",e.profile.image),l.Bb(8),l.hc("ngModel",e.profile.username),l.Bb(4),l.hc("ngModel",e.profile.surnamez),l.Bb(4),l.hc("ngModel",e.profile.contact),l.Bb(2),l.ic("disabled",e.buttonDisabled)}}function u(e,t){1&e&&l.Mb(0,"img",45)}function b(e,t){if(1&e&&l.Mb(0,"img",44),2&e){const e=l.ac();l.ic("src",e.profile.image,l.oc)}}const f=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.tcfpics=e,this.router=t,this.toastController=n,this.menuCtrl=i,this.alertController=o,this.storage=a.a.storage().ref(),this.userprofile=[],this.newuserprofile=[],this.db=a.a.firestore(),this.ActiveAcount=!1,this.profile={image:"",username:null,surnamez:null,idNo:null,position:null,contact:null,cardNo:null,userid:a.a.auth().currentUser.uid,email:a.a.auth().currentUser.email},this.formOpen=!1,this.menuCtrl.enable(!1),this.getuser()}ngOnInit(){a.a.auth().onAuthStateChanged(e=>{e&&a.a.firestore().doc(`/users/${e.uid}`).get().then(t=>{this.userIDInfor=e.uid,console.log(this.userIDInfor)}),this.buttonDisabled=!1}),this.menuCtrl.enable(!0)}getuser(){this.db.collection("users").doc(this.profile.userid).onSnapshot(e=>{this.profile.username=e.data().username,this.profile.surnamez=e.data().surnamez,this.profile.contact=e.data().contact,this.profile.email=e.data().emails,this.profile.image=e.data().image,this.profile.position=e.data().position})}users(){return Object(s.b)(this,void 0,void 0,function*(){console.log("profile",this.profile),""==this.profile.username||null==this.profile.username?(yield this.toastController.create({message:"Enter the Name.",duration:2e3})).present():""==this.profile.surnamez||null==this.profile.surnamez?(yield this.toastController.create({message:"Enter the Surname",duration:2e3})).present():""==this.profile.position||null==this.profile.position?(yield this.toastController.create({message:"Enter the position",duration:2e3})).present():""==this.profile.contact||null==this.profile.contact||this.profile.contact.length<10?(yield this.toastController.create({message:"Enter a cellphone number with 10 digits",duration:2e3})).present():(this.db.collection("users").doc(a.a.auth().currentUser.uid).update({username:this.profile.username,surnamez:this.profile.surnamez,email:this.profile.email,contact:this.profile.contact,position:this.profile.position,image:this.profile.image}).then(function(){console.log("Document successfully written!")}).catch(function(e){console.error("Error writing document: ",e)}),this.router.navigateByUrl("/profile2"),this.closePopUp())})}changeListener(e){const t=e.target.files[0];console.log(t);const n=this.storage.child(t.name).put(t);n.on("state_changed",e=>{console.log("upload is: ",e.bytesTransferred/e.totalBytes*100,"% done.")},e=>{},()=>{n.snapshot.ref.getDownloadURL().then(e=>{console.log("File avail at: ",e),this.profile.image=e})})}getPhoneInput(e){this.profile.contact=e.target.value,"0"!==this.profile.contact[0]?this.presentAlertPhoneValidation():(console.log("im working"),this.profile.contact=this.profile.contact),console.log(this.profile.contact)}presentAlertPhoneValidation(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm!",message:"<strong>Phone Numbers must start with a number: 0.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:e=>{this.erasedToContact(),console.log("Confirm Cancel: blah")}}]});yield e.present()})}presentAlertPhoneMaxLenght(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm!",message:"<strong>Phone Numbers must have 10 numbers.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:e=>{this.erasedToContact()}}]});yield e.present()})}presentAlertPhoneMinLenght(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:"Confirm!",message:"<strong>Phone Numbers has less than 10 numbers.</strong>!!!",buttons:[{text:"Okay",role:"cancel",cssClass:"secondary",handler:e=>{this.erasedToContact(),console.log("Confirm Cancel: blah")}}]});yield e.present()})}erasedToContact(){this.profile.contact=""}Logout(){a.a.auth().signOut().then(e=>{console.log(e),this.router.navigateByUrl("/login")})}openPopUp(){this.formOpen=!0}closePopUp(){this.formOpen=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Lb(d.a),l.Lb(c.g),l.Lb(r.gb),l.Lb(r.Z),l.Lb(r.b))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-profile2"]],decls:40,vars:7,consts:[[1,"mask"],["class","pop-up",4,"ngIf"],[1,"the-edit-div"],["id","edit-icon","name","create",3,"click"],[1,"the-profile"],[1,"the-circle"],["src","../../assets/images/User_Avatar.png","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],[1,"the-name"],["id","namey"],[1,"location"],["name","pin"],[1,"the-circles"],["id","circle-one"],["id","circle-two"],["id","circle-three"],[1,"the-information"],["id","user-email"],["id","user-email-circle"],["src","../../assets/images/tcfpicicon.png","alt",""],[1,"cover"],[1,"pop-up"],["id","the-edit-div",3,"click"],["id","edit-icon2","src","../../assets/images/tcfpicicon.png","alt",""],["id","user-form"],[1,"the-input-circles"],["id","color-one"],["id","color-two"],["id","color-three"],[1,"user-profile"],["src","../../assets/images/tcfpicicon.png","alt","",4,"ngIf"],["for","disapear"],["id","Addd","name","camera"],["id","disapear","type","file","accept","image/*",1,"image-upload",3,"change"],[1,"user-inputs"],[1,"user-div"],[1,"input-icon"],["name","person"],["type","text","placeholder","Name",3,"ngModel","ngModelChange"],["type","text","placeholder","Surname",3,"ngModel","ngModelChange"],["name","call"],["type","tel","placeholder","Phone No.","maxlength","10",3,"ngModel","ngModelChange","keyup"],["id","the-button"],[3,"disabled","click"],["alt","",3,"src"],["src","../../assets/images/User_Avatar.png","alt",""]],template:function(e,t){1&e&&(l.Qb(0,"ion-content"),l.Qb(1,"div",0),l.qc(2,h,30,6,"div",1),l.Qb(3,"div",2),l.Mb(4,"ion-menu-button"),l.Qb(5,"ion-icon",3),l.Yb("click",function(){return t.openPopUp()}),l.Pb(),l.Pb(),l.Qb(6,"div",4),l.Qb(7,"div",5),l.qc(8,u,1,0,"img",6),l.qc(9,b,1,1,"img",7),l.Pb(),l.Pb(),l.Qb(10,"div",8),l.Qb(11,"h1",9),l.rc(12),l.Pb(),l.Pb(),l.Qb(13,"div",10),l.Mb(14,"ion-icon",11),l.Qb(15,"p"),l.rc(16),l.Pb(),l.Pb(),l.Qb(17,"div",12),l.Mb(18,"div",13),l.Mb(19,"div",14),l.Mb(20,"div",15),l.Pb(),l.Qb(21,"div",16),l.Qb(22,"div",17),l.Qb(23,"div",18),l.Mb(24,"ion-icon",19),l.Pb(),l.Qb(25,"p"),l.rc(26,"my phone"),l.Pb(),l.Qb(27,"h3"),l.Qb(28,"b"),l.rc(29),l.Pb(),l.Pb(),l.Pb(),l.Qb(30,"div",17),l.Qb(31,"div",18),l.Mb(32,"ion-icon",19),l.Pb(),l.Qb(33,"p"),l.rc(34,"my email"),l.Pb(),l.Qb(35,"h3"),l.Qb(36,"b"),l.rc(37),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Mb(38,"div",20),l.Mb(39,"br"),l.Pb()),2&e&&(l.Bb(2),l.hc("ngIf",!0===t.formOpen),l.Bb(6),l.hc("ngIf",!t.profile.image),l.Bb(1),l.hc("ngIf",t.profile.image),l.Bb(3),l.sc(t.profile.username),l.Bb(4),l.sc(t.profile.cardNo),l.Bb(13),l.sc(t.profile.contact),l.Bb(8),l.sc(t.profile.email))},directives:[r.n,i.l,r.D,r.t,o.a,o.i,o.k,o.f,r.f],styles:[".cover[_ngcontent-%COMP%]{background-size:cover;background-position:50%;background-repeat:no-repeat;position:fixed;margin-top:-150px}.cover[_ngcontent-%COMP%], .mask[_ngcontent-%COMP%]{width:100%;height:100%}.mask[_ngcontent-%COMP%]{position:absolute;z-index:100000000;overflow:hidden;background-color:#2f4f4f}.the-edit-div[_ngcontent-%COMP%]{height:8%;width:100%;display:flex;align-items:center}#edit-icon[_ngcontent-%COMP%]{position:absolute;right:0;padding-right:25px;color:#999;font-size:35px}ion-menu-button[_ngcontent-%COMP%]{color:#999;padding-left:25px}.the-profile[_ngcontent-%COMP%]{height:45%;align-items:center}.the-circle[_ngcontent-%COMP%], .the-profile[_ngcontent-%COMP%]{display:flex;justify-content:center}.the-circle[_ngcontent-%COMP%]{border:11px solid #fff;height:400px;width:400px;border-radius:200px}.the-circle[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:200px;height:350px;width:350px;margin-top:12px}.the-name[_ngcontent-%COMP%]{height:7%;text-align:center}.the-name[_ngcontent-%COMP%]   #namey[_ngcontent-%COMP%]{font-family:brandish;font-size:3vw}.location[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.location[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{margin-top:-5px}.location[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%], .location[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#9e9e9e;font-family:Montserrat,sans-serif;font-size:20px}.location[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:15px}.the-circles[_ngcontent-%COMP%]{height:5%;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}#circle-one[_ngcontent-%COMP%]{background:#c5a60a}#circle-one[_ngcontent-%COMP%], #circle-two[_ngcontent-%COMP%]{height:20px;width:20px;border-radius:100px;margin:-10px 20px 20px}#circle-two[_ngcontent-%COMP%]{background:#d12c6f}#circle-three[_ngcontent-%COMP%]{height:20px;width:20px;border-radius:100px;background:#13bbbb;margin:-10px 20px 20px}.the-information[_ngcontent-%COMP%]{height:30%;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center}#user-email[_ngcontent-%COMP%]{height:61%;width:26%;border:1px solid hsla(0,0%,50.2%,.199);border-radius:10px;box-shadow:9px 7px 24px #000;margin:30px;flex-direction:column;position:relative}#user-email[_ngcontent-%COMP%], #user-email-circle[_ngcontent-%COMP%]{background-color:#fff;box-shadow:6px 6px 12px rgba(0,0,0,.08),-6px -6px 12px #fff;display:flex;justify-content:center;align-items:center}#user-email-circle[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,50.2%,.199);height:60px;width:60px;border-radius:100px;position:absolute;left:50%;top:-30px;transform:translateX(-30px)}#user-email[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:100}#user-email[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], #user-email[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#818181;font-family:Open Sans Condensed,sans-serif}#user-email[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-weight:500;position:relative;bottom:10px}.pop-up[_ngcontent-%COMP%]{z-index:100;background:rgba(71,71,71,.5333333333333333);position:absolute;height:100%;width:100%;justify-content:center}#user-form[_ngcontent-%COMP%], .pop-up[_ngcontent-%COMP%]{display:flex;align-items:center}#user-form[_ngcontent-%COMP%]{height:64%;width:30%;background:#fff;flex-direction:column;background-color:#2f4f4f}#edit-icon2[_ngcontent-%COMP%]{position:absolute;right:0;top:10px;padding-right:25px;padding-bottom:25px;color:#fff;font-size:35px}.the-input-circles[_ngcontent-%COMP%]{width:100%;height:15%;display:flex;flex-direction:row;justify-content:center;align-items:center}#color-one[_ngcontent-%COMP%]{background-color:#c5a60a}#color-one[_ngcontent-%COMP%], #color-two[_ngcontent-%COMP%]{height:25px;width:25px;border-radius:100px;margin:10px}#color-two[_ngcontent-%COMP%]{background-color:#d12c6f}#color-three[_ngcontent-%COMP%]{background-color:#13bbbb;height:25px;width:25px;border-radius:100px;margin:10px}.user-profile[_ngcontent-%COMP%]{height:26%;width:40%;display:flex;justify-content:center}.user-profile[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:138px;width:138px;border-radius:100px}.user-inputs[_ngcontent-%COMP%]{height:46%;width:75%;display:flex;flex-direction:column}.user-inputs[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{height:85px;margin:10px}#the-button[_ngcontent-%COMP%]{height:10%;width:100%;display:flex;align-items:center;justify-content:center}.user-div[_ngcontent-%COMP%]{height:35px;margin:10px;background-color:transparent}.user-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:34px;color:#000}.input-icon[_ngcontent-%COMP%]{width:35px;height:34px;position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.input-icon[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{color:#7a7878}[_ngcontent-%COMP%]::placeholder{font-size:15px;font-weight:lighter;font-family:Open Sans Condensed,sans-serif}@media screen and (max-width:1024px){#user-form[_ngcontent-%COMP%]{height:64%;width:78%;background-color:#2f4f4f;display:flex;flex-direction:column;align-items:center}}@media screen and (max-width:1024px) and (max-width:768){#user-form[_ngcontent-%COMP%]{height:64%;width:67%;background:#fff;display:flex;flex-direction:column;align-items:center}ion-menu-button[_ngcontent-%COMP%]{font-size:2em}}"]}),e})()}];let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({imports:[[c.k.forChild(f)],c.k]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({imports:[[i.c,o.e,r.W,m]]}),e})()}}]);